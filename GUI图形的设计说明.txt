gui图形界面的开发
所需数据来自数据库'Users/sj/vix/data_vix.db'
界面中简体中文采用Noto Sans CJK SC，字号11号
主界面最小尺寸1200*650，按比例可以放大
界面纵向分为四个部分，分别是H0、H1、H2、H3。各个区域的最小高度分布如下：
位置	尺寸
顶端留白	10
H0 lable	15
H0 组件区 15
间隙1	5
H1	200
间隙2	5
H2	200
间隙3	5
H3	185
底端留白	10
合计最小高度 650

H0：用户操作区
最小高度30，分成上下两个部分，上半部分叫做“labl”显示各个组件的名称标签；下半部分是组件，具体是：两个交易日期下拉框，一个期权合约文本框，一个查询按钮，两个筛选按钮，一个取消筛选按钮
组件		交易日期1		交易日期2		期权合约代码		查询按钮		筛选按钮		筛选按钮		按钮	
组件名称	左端留白	下拉框1	间隙1	下拉框2	间隙2	文本框	间隙3	查询	间隙4	升波合约	间隙5	降波合约	间隙6	取消筛选	右段留白
尺寸	25	100	10	100	10	200	10	80	10	80	10	80	10	80	25

各个组件的功能描述：
a、两个交易日期下拉框，从数据表risma中查询“交易日期”数据，注意数据表中该列的数据格式是‘YYYY-MM-DD’，两个下拉框分别确定查询的日期范围。
b、期权合约文本框，用户手动输入期权合约代码，根据输入的内容在数据表中查询符合条件的记录。文本框的输入允许不区分大小写，允许非全文查询，比如用户输入‘lc2509’，则查询数据表中“期权合约代码”列中所有以‘LC2509’开头的记录，这里的非全文查询规则是按照字符顺序从左往右查询。再例如用户输入‘lc2509c’，则对应查询‘LC2509C’开头的所有记录。
c、两个筛选按钮的功能如下：
升波合约，IV值<HV、IV<IVma（至少满足一个），IVslop>0（必要条件），结果按照IV倒序排序；
降波合约，IV>HV、IV>IVma（至少满足一个）,IVslope<0（必要条件），结果按照IV倒序排序；
按下筛选按钮后H2表格只显示符合条件的记录
d、取消筛选按钮，功能是取消所有筛选条件，恢复H1表格的正常显示
通过上述组件，将查询到的记录形成表格显示在H1区域。

H1：表格显示区
最小高度200，最小宽度1150。
表格列名和顺序是：“期权合约代码、交易日期、IV、IVslope、IVma、HV、Vega、市场价格、内在价值、市场价值、理论价格、市场价差、涨跌、成交量、持仓变化、行权价”，各列的宽度根据列名自适应宽度，有横滚条和竖滚条，表格左对齐
各列的数据来源：
“期权合约、交易日期”来自H0区域用户的交互操作
“IV、IVslope、IVma”来自‘risma’表的“隐含波动率、隐含波动率变化趋势、隐含波动率均值”
“涨跌、成交量、市场价、行权价”通过期权表op_io、op_ho、op_mo、op_czce、op_dec、op_gfex、op_shfe获取
“持仓量变化”的数据获取方式如下：
复制op_czce 表的"增减量"到"持仓量变化"，数据类型由浮点数改为整数
复制op_dce 表的"持仓量变化"到“持仓量变化”，浮点数改为整数
复制op_gfex表的"持仓量变化"到“持仓量变化”
计算op_shfe表当前交易日的“持仓量”减去前一交易日的“持仓量”，数据类型调整为整数。如当前交易日没有前一个交易日，则默认输出‘0’，得到“持仓量变化”
计算op_mo/ho/io三表当前交易日的“成交量”减去前一交易日的“成交量”，数据类型调整为整数。如当前交易日没有前一个交易日，则默认输出‘0’，得到“持仓量变化”
“市场价”的数据获取方式如下：
复制op_czce/dce/gfex/shfe四表的“结算价”数据到“市场价”
复制op_mo/ho/io三表的“最高价”数据到“市场价”
“Vega、内在价值、时间价值、理论价格、市场价差、涨跌”通过ris_cffex、ris_czce、ris_dce、ris_gfex、ris_shfe表获取
各列名通过鼠标点击可以实现正向排序，再次点击实现逆向排序

H2：折线图
最小高度200，左右留白各25，最小宽度1150。折线图的标题、图例、坐标轴等字体大小均采用11号。根据选定的交易日期的范围，显示前5条记录每个交易日的“IVslope”，必要时增加横滚条。纵轴根据图形界面的大小自动调节。

H3:期权合约详细数据表
最小高度185，表格纵列为“IV、IVslope、IVma、Vega、市场价格、内在价值、涨跌、成交量、持仓量变化”，横列是交易日
具体功能是通过鼠标点击H1表格中的某一个“期权合约代码”，显示该合约最近15个交易日的“IV、IVslope、IVma、Vega、市场价格、内在价值、涨跌、成交量、持仓量变化”，交易日期从左到右按照最近到最远依次排列
要有横滚条和竖滚条方便扩展阅读表格，表格左对齐





1、H1区域的表格，左对齐，增加“Vega、行权价”列，Vega列放在HV列右面，行权价列放在最后面。Vega列数据数据来源是ris_各表，行权价列的数据来源是op_各表
2、H0区域增加2个筛选按钮，名称是‘升波合约’、‘降波合约’。按钮功能如下：
升波合约，IV值<HV、IV<IVma（至少满足一个），IVslop>0（必要条件）
降波合约，IV>HV、IV>IVma（至少满足一个）,IVslope<0（必要条件）
按下筛选按钮后H2表格只显示符合条件的记录
3、H0区域增加一个按钮名称是“取消筛选”，功能是取消所有筛选条件，恢复H1表格的正常显示
3、“涨跌”全部显示为‘N/A’，请检查数据来源，正确的来源是各个ris_表
4、H3区域的表格也设置为左对齐，表格纵列修改为“IV、IVslope、IVma、Vega、市场价格、内在价值、涨跌、成交量、持仓量变化”，横列是交易日
具体功能是通过鼠标点击H1表格中的某一个“期权合约代码”，显示该合约最近15个交易日的“IV、IVslope、IVma、Vega、市场价格、内在价值、涨跌、成交量、持仓量变化”，交易日期从左到右按照最近到最远依次排列
要有横滚条和竖滚条方便扩展阅读表格，表格左对齐
5、IVslope点击排序功能失效，终端提示TypeError: '<' not supported between instances of 'str' and 'float'
6、H2区域的折线图“标题”和坐标轴的中文字体字号大了，请调低2档，或者使用其他组件显示折线图，折线图只需要显示H2表格的前5条记录


------------------total表已被取消，功能整合进gui界面---------------------
一、total表的设计
1、字段
期权合约代码、交易日期、HV、IV、IVslope、IVma、市场价格、内在价值、时间价值、理论价格、市场价差、涨跌、成交量、持仓量变化
2、各个字段的数据来源如下：
2.1、通过期权表op_io、op_ho、op_mo、op_czce、op_dec、op_gfex、op_shfe，获取“期权合约代码、交易日期、涨跌、成交量”，另外可获取“持仓量变化、市场价”这两列的数据。
2.2、“持仓量变化”的数据获取方式如下：
复制op_czce 表的"增减量"到"持仓量变化"，数据类型由浮点数改为整数
复制op_dce 表的"持仓量变化"到“持仓量变化”，浮点数改为整数
复制op_gfex表的"持仓量变化"到“持仓量变化”
计算op_shfe表当前交易日的“持仓量”减去前一交易日的“持仓量”，数据类型调整为整数。如当前交易日没有前一个交易日，则默认输出‘0’，得到“持仓量变化”
计算op_mo/ho/io三表当前交易日的“成交量”减去前一交易日的“成交量”，数据类型调整为整数。如当前交易日没有前一个交易日，则默认输出‘0’，得到“持仓量变化”
2.3、“市场价”的数据获取方式如下：
复制op_czce/dce/gfex/shfe四表的“结算价”数据到“市场价”
复制op_mo/ho/io三表的“最高价”数据到“市场价”
2.4、通过ris_cffex、ris_czce、ris_dce、ris_gfex、ris_shfe表获取“内在价值、时间价值、理论价格、市场价差”的数据。
2.5、HV、IV、IVslope、IVma的数据来源分别是risma表的“历史波动率、隐含波动率、隐含波动率变化趋势、隐含波动率均值”
3、total表的主键是ris表中有的期权合约代码和交易日期，也就是total表的“期权合约代码”和“交易日期”就是各个ris表的“期权合约代码”和“交易日期”。





